## 🍀 메모리 관리의 필요성

- 각각의 프로세스는 독립된 메모리 공간을 갖고, 운영체제 혹은 다른 프로세스의 메모리 공간에 접근할 수 없는 제한 有.
- 운영체제 만이 운영체제 메모리 영역과 사용자 메모리 영역의 접근에 제약을 받지 않기 때문에 운영체제에서 메모리를 관리.
- 또한, 멀티프로그래밍 환경으로 변화하면서 한정된 메모리의 효율적 사용필요. → 운영체제가 이를 어떻게 관리하는지에 대한 관리방법이 중요해짐!

**swapping**

주기억장치에 적재한 하나의 프로세스를 보조기억장치에 잠시 적재했다가 필요할 때 다시 꺼내서 사용하는 메모리를 교체하는 기법. 메모리 관리 기법.

![alt text](img/memory%20management1.png)

Swap-out: 메모리에 있던 page를 디스크에 write하는 과정.

Swap-in: 디스크에 있던 page를 메모리에 read하는 과정.

스와핑은 현재는 사용하지 않는다. 프로세스 단위로 스와핑을 하면 비효율적이기 때문.

**[장점]**

1. 프로세스 실행 대기 시간 단축. CPU 활용도 증가시킴.

**[단점]**

1. 프로세스가 주 메모리와 보조 메모리 간을 이동하는 과정은 시스템의 전체 성능 down. 
2. 스와핑 과정 중에 시스템이 갑자기 종료되면 스왑아웃된 프로세스의 데이터가 손실 가능성 有.

## 🍀 연속 메모리 할당

멀티 프로세스 환경에서 여러 프로세스를 ㄹ메모리에 연속적으로 로드하는 방법.

### 고정 분할 방식

- 메모리 영역을 분할한 뒤 각 영역에 프로세스를 할당하는 방식.
- 분할된 영역의 기는 서로 다를 수 있으며 분할된 크기는 고정됨.
    - 이 방식은 메모리에 올릴 수 있는 프로세스 수와 각 프로세스 크기가 제한 되며 단편화 문제가 발생할 수 있다는 단점 존재.
        - 내부 단편화: Partition의 크기가 프로세스의 크기보다 커서 메모리가 남지만, 다른 프로세스가 사용할 수 없는 상태.
            
            ![alt text](img/memory%20management2.png)
            
        - 외부 단편화: 남아있는 메모리의 크기가 실행하고자 하는 프로세스보다 크지만, 연속적이지 않은 공간에 존재하여 실행하지 못하는 상태.
            
            ![alt text](img/memory%20management3.png)
            
            해결 방법: 메모리 압축. 프로세스가 사용 중인 메모리 공간을 재배치해서 흩어져있는 가용 메모리 공간을 하나로 합치는 것.
            

### 가변 분할 방식

- 할당할 프로세스의 크기에 따라 메모리 공간을 분할하는 방식.
- 메모리 할당 알고리즘을 이용해 가용 메모리 공간에서 프로세스가 로드될 수 있는 메모리 공간을 찾는다.
1. 최초 적합 (first-fit)
    1. 가용 메모리 공간에서 프로세스 크기만큼 비어 있는 메모리 공간을 찾아 **차례대로** 프로세스를 로드하는 방식.
2. 최적 적합 (best-fit)
    1. 할당하려는 프로세스 크기 이상인 가용 메모리 공간 중에서 **가장 작은** 공간에 프로세스를 할당하는 방식.
    2. 가용 메모리 공간을 모두 탐색해야 하기 때문에 탐색 시간이 오래 걸린다.
3. 최악 적합 (worst-fit)
    1. 할당하려는 프로세스 크기보다 큰 가용 메모리 공간 중에서 가장 큰 공간에 프로세스를 할당하는 방식.

---

## 👣 예상 질문 List

### 1. 메모리 관리 전략에 대해 알려주세요.

1. **스와핑(Swapping)** : CPU에서 실행 중이지 않은 프로세스의 메모리 이미지를 저장 장치에 이동시켜 메모리 사용의 효율성을 증가시킨다.
2. **연속 메모리 할당(Contiguous Memory Allocation)** : 각 프로세스가 필요로 하는 메모리 요구량을 분석한 뒤, 필요한 메모리를 연속으로 할당한다.
3. **페이징(Paging)** : 프로세스가 사용하는 주소 공간을 여러 개로 분할하여 비연속적인 물리 메모리 공간에 할당, 가상 메모리를 모두 같은 크기의 블록으로 편성한다.
4. **세그멘테이션(Segmentation)** : 프로세스가 필요로 하는 메모리 공간을 분할하여 비연속적인 물리 메모리 공간에 할당한다.

### 2. 메모리 할당 알고리즘에 대해 말해보고 각각의 공간 및 시간 효율성에 대해 알려주세요.

새로 적재되어야 할 데이터를 주기억장치 영역 중 어느 곳에 배치할지를 결정하는 전략이다.

1. **최초 적합(First-fit)** : 가용공간 중 수용가능한 첫번째 기억공간을 할당한다.
2. **최적 적합(Best-fit)** : 모든 공간 중에서 수용가능한 가장 작은 곳을 선택한다.
3. **최악 적합(Worst-fit)** : 모든 공간 중에서 수용가능한 가장 큰 곳을 선택한다.

따라서, **공간 효율성**은 최적 적합 > 최초 적합 > 최악 적합 순으로, **시간 효율성**은 최초 적합 > 최적적합 ≒ 최악적합 순이 된다.